<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¸ƒæ‹‰æ ¼å››å¤©ä¸‰å¤œï¼šå¹´è¼•äººè‡ªç”±è¡Œåœ°åœ–</title>
    <style>
        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
            color: #333;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 25px;
            background-color: #ddd;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        button.active {
            background-color: #d35400; /* å¸ƒæ‹‰æ ¼ç´…å±‹é ‚è‰² */
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        button:hover:not(.active) {
            background-color: #ccc;
        }

        .canvas-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            position: relative;
        }

        canvas {
            border: 1px solid #eee;
            border-radius: 10px;
        }

        .legend {
            margin-top: 15px;
            font-size: 14px;
            color: #666;
            display: flex;
            gap: 20px;
        }
        .legend span {
            display: flex;
            align-items: center;
        }
        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
            display: inline-block;
        }
    </style>
</head>
<body>

    <h1>ğŸ‡¨ğŸ‡¿ å¸ƒæ‹‰æ ¼ 4å¤©3å¤œ è¡Œç¨‹åœ°åœ–</h1>
    <p>è¼•é¬†æ‹ç…§ãƒ»ç¶²ç´…æ‰“å¡ãƒ»ç´ é£Ÿå‹å–„</p>

    <div class="controls">
        <button onclick="loadDay(1)" id="btn1" class="active">Day 1: èˆŠåŸç«¥è©±</button>
        <button onclick="loadDay(2)" id="btn2">Day 2: åŸå ¡ç¾æ™¯</button>
        <button onclick="loadDay(3)" id="btn3">Day 3: æ²³å²¸æ¼«éŠ</button>
        <button onclick="loadDay(4)" id="btn4">Day 4: æ‚ é–’è¿”ç¨‹</button>
    </div>

    <div class="canvas-container">
        <canvas id="tripCanvas" width="600" height="700"></canvas>
    </div>

    <div class="legend">
        <span><span class="dot" style="background:#d35400"></span> æ™¯é» (Sight)</span>
        <span><span class="dot" style="background:#27ae60"></span> ç´ é£Ÿé¤å»³ (Veg Food)</span>
        <span><span class="dot" style="background:#3498db"></span> äº¤é€š/æ´»å‹• (Activity)</span>
    </div>

    <script>
        const canvas = document.getElementById('tripCanvas');
        const ctx = canvas.getContext('2d');
        let currentDay = 1;

        // è¡Œç¨‹æ•¸æ“šçµæ§‹
        const itineraryData = {
            1: {
                title: "Day 1: èˆŠåŸå€çš„æµªæ¼«èˆ‡å¤œæ™¯",
                stops: [
                    { time: "14:00", title: "ç“¦èŒ¨æ‹‰å¤«å»£å ´", desc: "æŠµé”ã€æ„Ÿå—åŸå¸‚ç†±é¬§æ°›åœ", type: "sight" },
                    { time: "15:00", title: "ç«è—¥å¡” & å¸‚æ°‘æœƒé¤¨", desc: "åœ°æ¨™æ‰“å¡ï¼Œæ¬£è³æ–°è—è¡“é¢¨æ ¼", type: "sight" },
                    { time: "16:00", title: "èˆŠåŸå»£å ´ & ç…™å›ªæ²", desc: "å¿…åƒ TrdelnÃ­k ç”œé»ï¼Œçœ‹å¤©æ–‡é˜", type: "sight" },
                    { time: "18:00", title: "æŸ¥ç†å¤§æ©‹ (æ—¥è½)", desc: "è§¸æ‘¸é›•åƒè¨±é¡˜ï¼Œçµ•ç¾æ²³æ™¯", type: "sight" },
                    { time: "19:30", title: "æ™šé¤: Maitrea", desc: "ç¦ªæ„é¢¨æ ¼ç´ é£Ÿï¼Œç¾å‘³æ·å…‹èœæ”¹è‰¯", type: "food" }
                ]
            },
            2: {
                title: "Day 2: åŸå ¡å€èˆ‡æ–‡é’ç‰†",
                stops: [
                    { time: "10:00", title: "ä½©ç‰¹ä»»å±±çºœè»Š", desc: "æ­çºœè»Šä¸Šå±±ï¼Œçœºæœ›ç´…å±‹é ‚å…¨æ™¯", type: "transport" },
                    { time: "12:30", title: "åˆé¤: Vegan's Prague", desc: "åŸå ¡è…³ä¸‹çš„æ™¯è§€ç´ é£Ÿæ¼¢å ¡", type: "food" },
                    { time: "14:00", title: "å¸ƒæ‹‰æ ¼åŸå ¡ (å¤–éƒ¨)", desc: "è–ç¶­ç‰¹å¤§æ•™å ‚åˆå½± (ä¸é€²åšç‰©é¤¨)", type: "sight" },
                    { time: "16:00", title: "å°åŸå€æ¼«æ­¥", desc: "æ²¿é€”ä¸‹å¡ï¼Œé€›å¯æ„›å°åº—", type: "transport" },
                    { time: "17:30", title: "åˆ—å„‚ç‰† (Lennon Wall)", desc: "å¡—é´‰ç‰†æ‹ç…§ï¼Œå¹´è¼•äººæœ€æ„›", type: "sight" },
                    { time: "19:00", title: "æ™šé¤: LehkÃ¡ Hlava", desc: "æ˜Ÿç©ºå¤©èŠ±æ¿ç´ é£Ÿé¤å»³ (éœ€é ç´„)", type: "food" }
                ]
            },
            3: {
                title: "Day 3: ä¼çˆ¾å¡”ç“¦æ²³èˆ‡ç¾ä»£è—è¡“",
                stops: [
                    { time: "10:30", title: "è·³èˆçš„æˆ¿å­", desc: "ç¨ç‰¹æ‰­æ›²å»ºç¯‰ï¼Œç¶²ç´…æ‰“å¡é»", type: "sight" },
                    { time: "13:00", title: "åˆé¤: æ²³å²¸å¸‚é›†/é¤è»Š", desc: "äº«å—æ²³é‚Šè¼•é¬†æ°›åœ", type: "food" },
                    { time: "14:30", title: "ç§Ÿå€Ÿè…³è¸èˆ¹ (Pedal Boat)", desc: "å¾æ²³é¢ä¸Šçœ‹æŸ¥ç†å¤§æ©‹ï¼Œè¶…Chill", type: "activity" },
                    { time: "16:30", title: "Na PÅ™Ã­kopÄ› è³¼ç‰©è¡—", desc: "é€›è¡—è³¼ç‰©ï¼Œè²·ç´€å¿µå“", type: "activity" },
                    { time: "19:00", title: "æ™šé¤: EtnosvÄ›t", desc: "ç²¾ç·»åœ‹éš›ç´ é£Ÿæ–™ç†", type: "food" },
                    { time: "21:00", title: "é…’å§/å¤œåº— (è‡ªç”±é¸)", desc: "Hemingway Bar æˆ– Karlovy LÃ¡znÄ›", type: "activity" }
                ]
            },
            4: {
                title: "Day 4: æ—©åˆé¤èˆ‡å‘Šåˆ¥",
                stops: [
                    { time: "10:00", title: "æ—©åˆé¤: CafÃ© Savoy", desc: "è¯éº—æ­å¼æ—©é¤é«”é©—", type: "food" },
                    { time: "11:30", title: "å“ˆç¶­çˆ¾å¸‚é›†", desc: "è²·æ–°é®®æ°´æœèˆ‡æœ€å¾Œç´€å¿µå“", type: "sight" },
                    { time: "13:00", title: "å‰å¾€æ©Ÿå ´", desc: "æ­ä¹˜ Uber/Bolt æº–å‚™è¿”ç¨‹", type: "transport" }
                ]
            }
        };

        function drawItinerary(day) {
            // æ¸…ç©ºç•«å¸ƒ
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const data = itineraryData[day];
            const stops = data.stops;
            
            // ç¹ªè£½èƒŒæ™¯è£é£¾ (æ·¡è‰²ç·šæ¢)
            ctx.strokeStyle = '#f0f0f0';
            ctx.lineWidth = 1;
            for(let i=0; i<canvas.width; i+=20) {
                ctx.beginPath();
                ctx.moveTo(i, 0);
                ctx.lineTo(i, canvas.height);
                ctx.stroke();
            }

            // ç¹ªè£½æ¨™é¡Œ
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 24px Helvetica';
            ctx.fillText(data.title, 30, 50);
            
            // ç¹ªè£½è·¯ç·š (é€£æ¥ç·š)
            ctx.beginPath();
            ctx.moveTo(100, 90);
            ctx.lineTo(100, 100 + (stops.length - 1) * 110);
            ctx.strokeStyle = '#bdc3c7';
            ctx.lineWidth = 4;
            ctx.setLineDash([10, 5]); // è™›ç·šæ•ˆæœ
            ctx.stroke();
            ctx.setLineDash([]); // é‡ç½®ç‚ºå¯¦ç·š

            // å¾ªç’°ç¹ªè£½æ¯å€‹é»
            stops.forEach((stop, index) => {
                const y = 100 + index * 110;
                const x = 100;

                // 1. ç¹ªè£½ç¯€é»åœ“åœˆ
                ctx.beginPath();
                ctx.arc(x, y, 15, 0, 2 * Math.PI);
                
                // æ ¹æ“šé¡å‹æ±ºå®šé¡è‰²
                let color = '#d35400'; // Default sight (Orange)
                if (stop.type === 'food') color = '#27ae60'; // Green
                if (stop.type === 'transport' || stop.type === 'activity') color = '#3498db'; // Blue
                
                ctx.fillStyle = color;
                ctx.fill();
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 3;
                ctx.stroke();

                // 2. ç¹ªè£½æ™‚é–“ (å·¦å´)
                ctx.fillStyle = '#7f8c8d';
                ctx.font = 'bold 16px Arial';
                ctx.textAlign = 'right';
                ctx.fillText(stop.time, x - 30, y + 5);

                // 3. ç¹ªè£½å…§å®¹å¡ç‰‡ (å³å´)
                const cardX = x + 40;
                const cardY = y - 35;
                const cardW = 420;
                const cardH = 70;

                // å¡ç‰‡é™°å½±
                ctx.shadowColor = 'rgba(0,0,0,0.1)';
                ctx.shadowBlur = 10;
                ctx.shadowOffsetX = 2;
                ctx.shadowOffsetY = 2;

                // å¡ç‰‡èƒŒæ™¯
                ctx.fillStyle = 'white';
                ctx.fillRect(cardX, cardY, cardW, cardH);
                
                // å·¦å´è‰²å½©æ¢
                ctx.fillStyle = color;
                ctx.fillRect(cardX, cardY, 5, cardH);

                ctx.shadowColor = 'transparent'; // Reset shadow

                // 4. æ–‡å­—å…§å®¹
                ctx.textAlign = 'left';
                
                // æ¨™é¡Œ
                ctx.fillStyle = '#2c3e50';
                ctx.font = 'bold 18px Arial';
                ctx.fillText(stop.title, cardX + 20, cardY + 25);
                
                // æè¿°
                ctx.fillStyle = '#7f8c8d';
                ctx.font = '14px Arial';
                ctx.fillText(stop.desc, cardX + 20, cardY + 50);
                
                // åœ–ç¤º (ç°¡å–® Emoji)
                let icon = 'ğŸ“¸';
                if (stop.type === 'food') icon = 'ğŸ¥—';
                if (stop.type === 'transport') icon = 'ğŸšƒ';
                if (stop.type === 'activity') icon = 'ğŸš²';
                
                ctx.font = '24px Arial';
                ctx.fillText(icon, cardX + cardW - 40, cardY + 45);
            });
        }

        function loadDay(day) {
            currentDay = day;
            
            // æ›´æ–°æŒ‰éˆ•æ¨£å¼
            for(let i=1; i<=4; i++) {
                document.getElementById('btn'+i).classList.remove('active');
            }
            document.getElementById('btn'+day).classList.add('active');

            // åŸ·è¡Œå‹•ç•«ç¹ªè£½
            drawItinerary(day);
        }

        // åˆå§‹åŠ è¼‰
        loadDay(1);

    </script>
</body>
</html>
